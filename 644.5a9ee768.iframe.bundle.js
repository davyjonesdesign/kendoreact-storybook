"use strict";(self.webpackChunkkendoreact_storybook=self.webpackChunkkendoreact_storybook||[]).push([[644],{"./node_modules/@progress/kendo-react-dropdowns/dist/es/DropDownList/DropDownList.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O8:()=>DropDownList});var extendStatics,react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),theme=__webpack_require__("./node_modules/@progress/kendo-react-common/dist/es/theme.js"),guid=__webpack_require__("./node_modules/@progress/kendo-react-common/dist/es/guid.js"),classNames=__webpack_require__("./node_modules/@progress/kendo-react-common/dist/es/classNames.js"),keys=__webpack_require__("./node_modules/@progress/kendo-react-common/dist/es/keys.js"),getTabIndex=__webpack_require__("./node_modules/@progress/kendo-react-common/dist/es/getTabIndex.js"),IconWrap=__webpack_require__("./node_modules/@progress/kendo-react-common/dist/es/icons/IconWrap.js"),utils=__webpack_require__("./node_modules/@progress/kendo-react-common/dist/es/icons/utils.js"),withPropsContext=__webpack_require__("./node_modules/@progress/kendo-react-common/dist/es/hocs/withPropsContext.js"),FloatingLabel=__webpack_require__("./node_modules/@progress/kendo-react-labels/dist/es/FloatingLabel.js"),index_es=__webpack_require__("./node_modules/@progress/kendo-svg-icons/dist/index.es.js"),ListContainer=__webpack_require__("./node_modules/@progress/kendo-react-dropdowns/dist/es/common/ListContainer.js"),ListFilter=__webpack_require__("./node_modules/@progress/kendo-react-dropdowns/dist/es/common/ListFilter.js"),GroupStickyHeader=__webpack_require__("./node_modules/@progress/kendo-react-dropdowns/dist/es/common/GroupStickyHeader.js"),common_utils=__webpack_require__("./node_modules/@progress/kendo-react-dropdowns/dist/es/common/utils.js"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),preventDefault=function(e){return e.preventDefault()};const common_ListDefaultItem=function(_super){function ListDefaultItem(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ListDefaultItem,_super),ListDefaultItem.prototype.render=function(){var _a=this.props,selected=_a.selected,defaultItem=_a.defaultItem,textField=_a.textField;return react.createElement("div",{onClick:this.props.onClick,onMouseDown:preventDefault,style:{position:"unset"},className:(0,classNames.x)("k-list-optionlabel",{"k-selected":selected})},(0,common_utils.Zi)(defaultItem,textField)||"")},ListDefaultItem}(react.Component);var List=__webpack_require__("./node_modules/@progress/kendo-react-dropdowns/dist/es/common/List.js"),DropDownBase=__webpack_require__("./node_modules/@progress/kendo-react-dropdowns/dist/es/common/DropDownBase.js"),validate_package=__webpack_require__("./node_modules/@progress/kendo-react-common/dist/es/validate-package.js"),canUseDOM=__webpack_require__("./node_modules/@progress/kendo-react-common/dist/es/canUseDOM.js"),package_metadata=__webpack_require__("./node_modules/@progress/kendo-react-dropdowns/dist/es/package-metadata.js"),Button=__webpack_require__("./node_modules/@progress/kendo-react-buttons/dist/es/Button.js"),intlUtils=__webpack_require__("./node_modules/@progress/kendo-react-intl/dist/es/intlUtils.js"),messages=__webpack_require__("./node_modules/@progress/kendo-react-dropdowns/dist/es/messages/index.js"),constants=__webpack_require__("./node_modules/@progress/kendo-react-dropdowns/dist/es/common/constants.js"),ActionSheet=__webpack_require__("./node_modules/@progress/kendo-react-layout/dist/es/actionsheet/ActionSheet.js"),ActionSheetHeader=__webpack_require__("./node_modules/@progress/kendo-react-layout/dist/es/actionsheet/ActionSheetHeader.js"),ActionSheetContent=__webpack_require__("./node_modules/@progress/kendo-react-layout/dist/es/actionsheet/ActionSheetContent.js"),DropDownList_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},sizeMap=theme.O.sizeMap,roundedMap=theme.O.roundedMap,DropDownListWithoutContext=function(_super){function DropDownListWithoutContext(props){var _this=_super.call(this,props)||this;return _this.state={},_this._element=null,_this.base=new DropDownBase.A(_this),_this.searchState={word:"",last:""},_this._select=null,_this._skipFocusEvent=!1,_this._filterInput=null,_this._navigated=!1,_this._lastKeypressIsFilter=!1,_this._inputId=(0,guid.O)(),_this.itemHeight=0,_this.focus=function(){_this.base.wrapper&&_this.base.wrapper.focus()},_this.handleItemSelect=function(index,state){var _a=_this.props,_b=_a.data,data=void 0===_b?[]:_b,virtual=_a.virtual,dataItemKey=_a.dataItemKey,defaultItem=_a.defaultItem,skip=virtual?virtual.skip:0,item=-1===index&&void 0!==defaultItem?defaultItem:data[index-skip],newSelected=!(0,common_utils.tj)(item,_this.value,dataItemKey);_this.triggerOnChange(item,state),newSelected&&_this.base.triggerPageChangeCornerItems(item,state)},_this.componentRef=function(element){_this._element=element,_this.base.wrapper=element},_this.dummySelect=function(value){return react.createElement("select",{name:_this.props.name,ref:function(el){_this._select=el},tabIndex:-1,"aria-hidden":!0,title:_this.props.label,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},react.createElement("option",{value:_this.props.valueMap?_this.props.valueMap.call(void 0,value):value}))},_this.renderListContainer=function(){var _a,_b=_this.props,header=_b.header,footer=_b.footer,dir=_b.dir,_c=_b.data,data=void 0===_c?[]:_c,size=_b.size,groupField=_b.groupField,groupStickyHeaderItemRender=_b.groupStickyHeaderItemRender,list=_b.list,base=_this.base,popupSettings=base.getPopupSettings(),opened=void 0!==_this.props.opened?_this.props.opened:_this.state.opened,popupWidth=void 0!==popupSettings.width?popupSettings.width:base.popupWidth,listContainerProps={dir:void 0!==dir?dir:base.dirCalculated,width:popupWidth,popupSettings:{popupClass:(0,classNames.x)(popupSettings.popupClass,"k-list-container","k-dropdownlist-popup"),className:popupSettings.className,animate:popupSettings.animate,anchor:_this.element,show:opened,onOpen:_this.onPopupOpened,onClose:_this.onPopupClosed,appendTo:popupSettings.appendTo},itemsCount:[data.length]},group=_this.state.group;return void 0===group&&void 0!==groupField&&(group=(0,common_utils.Zi)(data[0],groupField)),react.createElement(ListContainer.A,__assign({},listContainerProps),_this.renderListFilter(),header&&react.createElement("div",{className:"k-list-header"},header),react.createElement("div",{className:(0,classNames.x)("k-list",(_a={},_a["k-list-".concat(sizeMap[size]||size)]=size,_a["k-virtual-list"]=_this.base.vs.enabled,_a))},_this.renderDefaultItem(),!list&&group&&0!==data.length&&react.createElement(GroupStickyHeader.A,{group,groupMode:"modern",render:groupStickyHeaderItemRender}),_this.renderList()),footer&&react.createElement("div",{className:"k-list-footer"},footer))},_this.renderList=function(){var _a=_this.props,_b=_a.data,data=void 0===_b?[]:_b,textField=_a.textField,dataItemKey=_a.dataItemKey,_c=_a.virtual,virtual=void 0===_c?{skip:0}:_c,groupHeaderItemRender=_a.groupHeaderItemRender,listNoDataRender=_a.listNoDataRender,itemRender=_a.itemRender,vs=_this.base.vs,skip=virtual.skip,opened=void 0!==_this.props.opened?_this.props.opened:_this.state.opened,popupSettings=_this.base.getPopupSettings(),translate="translateY(".concat(vs.translate,"px)");return react.createElement(List.A,{id:_this.base.listBoxId,show:opened,data:data.slice(),focusedIndex:_this.getFocusedIndex(),value:_this.value,textField,valueField:dataItemKey,optionsGuid:_this.base.guid,groupField:_this.props.groupField,groupMode:"modern",listRef:function(list){return vs.list=_this.base.list=list},wrapperStyle:{maxHeight:popupSettings.height},wrapperCssClass:"k-list-content",listStyle:vs.enabled?{transform:translate}:void 0,key:"listkey",skip,onClick:_this.handleItemClick,itemRender,groupHeaderItemRender,noDataRender:listNoDataRender,onScroll:_this.onScroll,wrapperRef:vs.scrollerRef,scroller:_this.base.renderScrollElement()})},_this.onScroll=function(event){var _a=_this.base,vs=_a.vs,list=_a.list;vs.scrollHandler(event);var groupField=_this.props.groupField,_b=_this.props.data,data=void 0===_b?[]:_b;if(groupField&&data.length&&groupField){for(var itemHeight=_this.itemHeight=_this.itemHeight||(vs.enabled?vs.itemHeight:list?list.children[0].offsetHeight:0),scrollTop=event.target.scrollTop-vs.skip*itemHeight,group=(data=_this.base.getGroupedDataModernMode(data,groupField))[0][groupField],i=1;i<data.length&&!(itemHeight*i>scrollTop);i++)data[i]&&data[i][groupField]&&(group=data[i][groupField]);group!==_this.state.group&&_this.setState({group})}},_this.renderListFilter=function(){var filterText=void 0!==_this.props.filter?_this.props.filter:_this.state.text;return _this.props.filterable&&react.createElement(ListFilter.A,{value:filterText,ref:function(filter){return _this._filterInput=filter&&filter.element},onChange:_this.handleListFilterChange,onKeyDown:_this.handleKeyDown,size:_this.props.size,rounded:_this.props.rounded,fillMode:_this.props.fillMode})},_this.renderDefaultItem=function(){var _a=_this.props,textField=_a.textField,defaultItem=_a.defaultItem,dataItemKey=_a.dataItemKey;return void 0!==defaultItem&&react.createElement(common_ListDefaultItem,{defaultItem,textField,selected:(0,common_utils.tj)(_this.value,defaultItem,dataItemKey),key:"defaultitemkey",onClick:_this.handleDefaultItemClick})},_this.search=function(event){clearTimeout(_this._typingTimeout),_this.props.filterable||(_this._typingTimeout=window.setTimeout((function(){return _this.searchState.word=""}),_this.props.delay),_this.selectNext(event))},_this.selectNext=function(event){var defaultItem,_a=_this.props,_b=_a.data,data=void 0===_b?[]:_b,dataItemKey=_a.dataItemKey,mappedData=data.map((function(item,idx){return{item,itemIndex:idx}})),word=_this.searchState.word,last=_this.searchState.last,isInLoop=(0,common_utils.Cp)(word,last),dataLength=mappedData.length,startIndex=Math.max(0,data.findIndex((function(i){return(0,common_utils.tj)(i,_this.value,dataItemKey)})));_this.props.defaultItem&&(defaultItem={item:_this.props.defaultItem,itemIndex:-1},dataLength+=1,startIndex+=1),startIndex+=isInLoop?1:0,mappedData=(0,common_utils.ME)(mappedData,startIndex,defaultItem);for(var text,loopMatch,nextMatch,index=0,_c=_this.props,textField=_c.textField,ignoreCase=_c.ignoreCase;index<dataLength;index++)if(text=(0,common_utils.Zi)(mappedData[index].item,textField),loopMatch=isInLoop&&(0,common_utils.H1)(text,last,ignoreCase),nextMatch=(0,common_utils.H1)(text,word,ignoreCase),loopMatch||nextMatch){index=mappedData[index].itemIndex;break}if(index!==dataLength){var state=_this.base.initState();state.syntheticEvent=event,_this.handleItemSelect(index,state),_this.applyState(state),_this._valueDuringOnChange=void 0}},_this.handleKeyDown=function(event){event&&event.stopPropagation&&event.stopPropagation();var _a=_this.props,_b=_a.data,data=void 0===_b?[]:_b,filterable=_a.filterable,disabled=_a.disabled,defaultItem=_a.defaultItem,_c=_a.leftRightKeysNavigation,leftRightKeysNavigation=void 0===_c||_c,_d=_a.virtual,virtual=void 0===_d?{skip:0,total:0,pageSize:0}:_d,dataItemKey=_a.dataItemKey,_e=_a.groupField,groupField=void 0===_e?"":_e,textField=_a.textField,_f=_a.skipDisabledItems,skipDisabledItems=void 0===_f||_f,value=_this.value,selectedIndex=data.findIndex((function(i){return(0,common_utils.tj)(i,value,dataItemKey)})),opened=void 0!==_this.props.opened?_this.props.opened:_this.state.opened,keyCode=event.keyCode,homeOrEndKeys=keyCode===keys.D.home||keyCode===keys.D.end,upOrDownKeys=keyCode===keys.D.up||keyCode===keys.D.down,shouldOpen=!opened&&(event.altKey&&keyCode===keys.D.down||keyCode===keys.D.enter||keyCode===keys.D.space),shouldClose=opened&&(event.altKey&&keyCode===keys.D.up||keyCode===keys.D.esc),leftOrRightKeys=leftRightKeysNavigation&&(keyCode===keys.D.left||keyCode===keys.D.right),shouldNavigate=upOrDownKeys||leftOrRightKeys&&!filterable||homeOrEndKeys,state=_this.base.initState();if(state.syntheticEvent=event,!disabled){if(homeOrEndKeys&&_this.base.vs.enabled)keyCode===keys.D.home?0!==virtual.skip?(_this.base.triggerOnPageChange(state,0,virtual.pageSize),_this._navigated=!0):_this.triggerOnChange(data[0],state):virtual.skip<virtual.total-virtual.pageSize?(_this.base.triggerOnPageChange(state,virtual.total-virtual.pageSize,virtual.pageSize),_this._navigated=!0):_this.triggerOnChange(data[data.length-1],state);else if(opened&&keyCode===keys.D.pageUp)_this.base.scrollPopupByPageSize(-1);else if(opened&&keyCode===keys.D.pageDown)_this.base.scrollPopupByPageSize(1);else if(opened&&keyCode===keys.D.enter){var focusedIndex=_this.getFocusedIndex();_this.haveFocusedItemAndDataNotEmpty(data,focusedIndex)?(_this.triggerOnChange(null,state),_this.applyState(state)):_this.handleItemSelect(focusedIndex,state),_this.base.togglePopup(state),event.preventDefault()}else if(shouldOpen||shouldClose)shouldClose&&_this.resetValueIfDisabledItem(),_this.base.togglePopup(state),event.preventDefault();else if(shouldNavigate){if(_this._lastKeypressIsFilter=!1,""!==groupField&&textField)if(!skipDisabledItems&&opened)_this.onNavigate(state,keyCode);else{var newIndex=void 0;if(keyCode===keys.D.down||keyCode===keys.D.right){var tempnewIndex_1=data.slice(selectedIndex+1).find((function(i){return!i.disabled&&i[textField]}));newIndex=tempnewIndex_1&&data.findIndex((function(el){return el[textField]===tempnewIndex_1[textField]}))}else if(keyCode===keys.D.up||keyCode===keys.D.left){var dataToSearch=void 0;if(0===selectedIndex&&defaultItem)newIndex=-1;else if(-1===selectedIndex)dataToSearch=data,newIndex=data.findIndex((function(i){return!i.disabled&&i[textField]}));else{for(var tempnewIndex_2=(dataToSearch=data.slice(0,selectedIndex)).pop();tempnewIndex_2&&tempnewIndex_2.disabled;)tempnewIndex_2=dataToSearch.pop();newIndex=tempnewIndex_2&&data.findIndex((function(el){return el[textField]===tempnewIndex_2[textField]}))}}if(void 0!==newIndex){var skipItems=newIndex-selectedIndex;_this.onNavigate(state,keyCode,skipItems)}else void 0===newIndex&&data.findIndex((function(el){return el[textField]===value[textField]}))===data.length-1&&_this.onNavigate(state,keyCode)}else if(!skipDisabledItems&&opened||homeOrEndKeys)_this.onNavigate(state,keyCode);else if(textField){newIndex=void 0;if(keyCode===keys.D.down||keyCode===keys.D.right){var tempnewIndex_3=data.slice(selectedIndex+1).find((function(i){return!i.disabled&&i[textField]}));newIndex=tempnewIndex_3&&data.findIndex((function(el){return el[textField]===tempnewIndex_3[textField]}))}else if(keyCode===keys.D.up||keyCode===keys.D.left){var dataTest=void 0;if(0===selectedIndex&&defaultItem)newIndex=-1;else if(-1===selectedIndex)dataTest=data,newIndex=data.find((function(i){return!i.disabled&&i[textField]}));else{for(var tempnewIndex_4=(dataTest=data.slice(0,selectedIndex)).pop();tempnewIndex_4&&tempnewIndex_4.disabled;)tempnewIndex_4=dataTest.pop();newIndex=tempnewIndex_4&&data.findIndex((function(el){return el[textField]===tempnewIndex_4[textField]}))}}if(void 0!==newIndex){skipItems=newIndex-selectedIndex;_this.onNavigate(state,keyCode,skipItems)}else void 0===newIndex&&data.findIndex((function(el){return el[textField]===value[textField]}))===data.length-1&&_this.onNavigate(state,keyCode)}else _this.onNavigate(state,keyCode);event.preventDefault()}_this.applyState(state)}},_this.handleItemClick=function(index,event){_this.base.handleItemClick(index,event),_this._valueDuringOnChange=void 0},_this.handleFocus=function(event){_this._skipFocusEvent||_this.base.handleFocus(event)},_this.handleBlur=function(event){if(!_this._skipFocusEvent&&_this.state.focused){var opened=void 0!==_this.props.opened?_this.props.opened:_this.state.opened,adaptive=_this.props.adaptive,_a=_this.state.windowWidth,renderAdaptive=(void 0===_a?0:_a)<=constants.y&&adaptive,state=_this.base.initState();state.syntheticEvent=event,state.data.focused=!1,state.events.push({type:"onBlur"}),opened&&_this.resetValueIfDisabledItem(),opened&&!renderAdaptive&&_this.base.togglePopup(state),_this.applyState(state)}},_this.handleDefaultItemClick=function(event){var state=_this.base.initState();state.syntheticEvent=event,_this.base.togglePopup(state),_this.triggerOnChange(_this.props.defaultItem,state),_this.applyState(state)},_this.handleWrapperClick=function(event){if(!event.isPropagationStopped()){var state=_this.base.initState();state.syntheticEvent=event,_this.state.focused||(state.data.focused=!0),_this.resetValueIfDisabledItem(),_this.base.togglePopup(state),_this.applyState(state)}},_this.handleKeyPress=function(event){if(!_this.props.filterable&&0!==event.which&&event.keyCode!==keys.D.enter){var character=String.fromCharCode(event.charCode||event.keyCode);_this.props.ignoreCase&&(character=character.toLowerCase())," "===character&&event.preventDefault(),_this.searchState={word:_this.searchState.word+character,last:_this.searchState.last+character},_this.search(event)}},_this.handleListFilterChange=function(event){var state=_this.base.initState();state.syntheticEvent=event.syntheticEvent,void 0===_this.props.filter&&(state.data.text=event.target.value),_this.base.filterChanged(event.target.value,state),_this._lastKeypressIsFilter=!0,_this.applyState(state),_this.setState({group:void 0})},_this.onPopupOpened=function(){_this._filterInput&&_this.focusElement(_this._filterInput),_this.props.adaptive&&setTimeout((function(){_this._filterInput&&_this.focusElement(_this._filterInput)}),300)},_this.onPopupClosed=function(){_this.state.focused&&window.setTimeout((function(){_this.state.focused&&_this.base.wrapper&&_this.focusElement(_this.base.wrapper)}))},_this.setValidity=function(){_this._select&&_this._select.setCustomValidity&&_this._select.setCustomValidity(_this.validity.valid?"":_this.props.validationMessage||"Please select a value from the list!")},(0,validate_package.$)(package_metadata.Q),_this}return DropDownList_extends(DropDownListWithoutContext,_super),Object.defineProperty(DropDownListWithoutContext.prototype,"document",{get:function(){if(canUseDOM.S)return this.element&&this.element.ownerDocument||document},enumerable:!1,configurable:!0}),Object.defineProperty(DropDownListWithoutContext.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(DropDownListWithoutContext.prototype,"value",{get:function(){var value;return void 0!==this._valueDuringOnChange?value=this._valueDuringOnChange:void 0!==this.props.value?value=this.props.value:void 0!==this.state.value?value=this.state.value:void 0!==this.props.defaultValue&&(value=this.props.defaultValue),(0,common_utils.Wo)(value)||void 0===this.props.defaultItem||(value=this.props.defaultItem),value},enumerable:!1,configurable:!0}),Object.defineProperty(DropDownListWithoutContext.prototype,"index",{get:function(){var _a=this.props,_b=_a.data,data=void 0===_b?[]:_b,dataItemKey=_a.dataItemKey,value=this.value;return data.findIndex((function(i){return(0,common_utils.tj)(i,value,dataItemKey)}))},enumerable:!1,configurable:!0}),Object.defineProperty(DropDownListWithoutContext.prototype,"name",{get:function(){return this.props.name},enumerable:!1,configurable:!0}),Object.defineProperty(DropDownListWithoutContext.prototype,"validity",{get:function(){var customError=void 0!==this.props.validationMessage,isValid=!this.required||null!==this.value&&""!==this.value&&void 0!==this.value;return{customError,valid:void 0!==this.props.valid?this.props.valid:isValid,valueMissing:null===this.value}},enumerable:!1,configurable:!0}),Object.defineProperty(DropDownListWithoutContext.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:DropDownListWithoutContext.defaultProps.validityStyles},enumerable:!1,configurable:!0}),Object.defineProperty(DropDownListWithoutContext.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:DropDownListWithoutContext.defaultProps.required},enumerable:!1,configurable:!0}),DropDownListWithoutContext.prototype.componentDidUpdate=function(prevProps,prevState){var _a,_b=this.props,dataItemKey=_b.dataItemKey,virtual=_b.virtual,_c=_b.groupField,groupField=void 0===_c?"":_c,textField=_b.textField,_d=this.props.data,data=void 0===_d?[]:_d,prevTotal=prevProps.virtual?prevProps.virtual.total:0,opened=void 0!==this.props.opened?this.props.opened:this.state.opened,prevOpened=void 0!==prevProps.opened?prevProps.opened:prevState.opened,opening=!prevOpened&&opened;if(this.base.getPopupSettings().animate||opening&&this.onPopupOpened(),virtual&&virtual.total!==prevTotal)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{var selectedItem_1=this.value,prevSelectedItem=void 0!==prevProps.value?prevProps.value:prevState.value,selectedItemIndex=data.findIndex((function(i){return(0,common_utils.tj)(i,selectedItem_1,dataItemKey)}));""!==groupField&&selectedItem_1&&textField&&(selectedItemIndex=null===(_a=this.base.getGroupedDataModernMode(data,groupField))||void 0===_a?void 0:_a.map((function(el){return el[textField]})).indexOf(selectedItem_1[textField]));var selectedItemChanged=!(0,common_utils.tj)(prevSelectedItem,selectedItem_1,dataItemKey);opening&&virtual?this.base.scrollToVirtualItem(virtual,selectedItemIndex):opening&&!virtual?(this.onPopupOpened(),data&&0!==data.length&&this.base.resetGroupStickyHeader(data[0][groupField],this),this.base.scrollToItem(selectedItemIndex)):opened&&prevOpened&&selectedItem_1&&selectedItemChanged&&!this._navigated?this.base.scrollToItem(selectedItemIndex):opened&&prevOpened&&this._navigated&&(this._navigated&&virtual&&0===virtual.skip?this.base.vs.reset():this._navigated&&virtual&&virtual.skip===virtual.total-virtual.pageSize&&this.base.vs.scrollToEnd())}this._navigated=!1,this.setValidity()},DropDownListWithoutContext.prototype.componentDidMount=function(){var _a;this.observerResize=canUseDOM.S&&window.ResizeObserver&&new window.ResizeObserver(this.calculateMedia.bind(this)),this.base.didMount(),this.setValidity(),(null===(_a=this.document)||void 0===_a?void 0:_a.body)&&this.observerResize&&this.observerResize.observe(this.document.body)},DropDownListWithoutContext.prototype.componentWillUnmount=function(){var _a;(null===(_a=this.document)||void 0===_a?void 0:_a.body)&&this.observerResize&&this.observerResize.disconnect()},DropDownListWithoutContext.prototype.render=function(){var _a,_this=this,btnAriaLabel=(0,intlUtils.GB)(this).toLanguageString(messages.im,messages.DZ[messages.im]),_b=this.props,style=_b.style,className=_b.className,label=_b.label,dir=_b.dir,virtual=_b.virtual,size=_b.size,rounded=_b.rounded,fillMode=_b.fillMode,adaptive=_b.adaptive,_c=this.state.windowWidth,windowWidth=void 0===_c?0:_c,opened=void 0!==this.props.opened?this.props.opened:this.state.opened,value=this.value,text=(0,common_utils.Zi)(value,this.props.textField),isValid=!this.validityStyles||this.validity.valid,base=this.base,vs=base.vs,renderAdaptive=windowWidth<=constants.y&&adaptive;vs.enabled=void 0!==virtual,void 0!==virtual&&(base.vs.skip=virtual.skip,base.vs.total=virtual.total,base.vs.pageSize=virtual.pageSize);var _d=this.props,dataItemKey=_d.dataItemKey,_e=_d.data,data=void 0===_e?[]:_e,disabled=_d.disabled,tabIndex=_d.tabIndex,loading=_d.loading,iconClassName=_d.iconClassName,valueRender=_d.valueRender,focused=this.state.focused,selectedIndex=data.findIndex((function(i){return(0,common_utils.tj)(i,value,dataItemKey)})),valueDefaultRendering=react.createElement("span",{id:this._inputId,className:"k-input-inner"},react.createElement("span",{className:"k-input-value-text"},text)),valueElement=void 0!==valueRender?valueRender.call(void 0,valueDefaultRendering,value):valueDefaultRendering,dropdownlist=react.createElement(react.Fragment,null,react.createElement("span",{ref:this.componentRef,className:(0,classNames.x)("k-dropdownlist k-picker",className,(_a={},_a["k-picker-".concat(sizeMap[size]||size)]=size,_a["k-rounded-".concat(roundedMap[rounded]||rounded)]=rounded,_a["k-picker-".concat(fillMode)]=fillMode,_a["k-focus"]=focused,_a["k-disabled"]=disabled,_a["k-invalid"]=!isValid,_a["k-loading"]=loading,_a["k-required"]=this.required,_a)),style:label?__assign(__assign({},style),{width:void 0}):style,dir,onMouseDown:opened?function(event){"INPUT"!==event.target.nodeName&&(_this.focusElement(_this.base.wrapper),event.preventDefault())}:void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:(0,getTabIndex.y)(tabIndex,disabled),accessKey:this.props.accessKey,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,onClick:disabled?void 0:this.handleWrapperClick,role:"combobox","aria-required":this.required,"aria-disabled":disabled||void 0,"aria-haspopup":"listbox","aria-expanded":opened||!1,"aria-owns":this.base.listBoxId,"aria-activedescendant":opened?"option-"+this.base.guid+"-"+(selectedIndex+(virtual?virtual.skip:0)):void 0,"aria-label":this.props.ariaLabel||this.props.label,"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy||this._inputId,id:this.props.id,title:this.props.title},valueElement,loading&&react.createElement(IconWrap.Q,{className:"k-input-loading-icon",name:"loading"}),react.createElement(Button.$,{tabIndex:-1,type:"button","aria-label":btnAriaLabel,"aria-hidden":!0,size,fillMode,iconClass:iconClassName,className:"k-input-button",rounded:null,themeColor:"base",icon:iconClassName?void 0:"caret-alt-down",svgIcon:iconClassName?this.props.svgIcon:index_es.caretAltDownIcon,onMouseDown:function(e){return _this.state.focused&&e.preventDefault()}}),this.dummySelect(value),!renderAdaptive&&this.renderListContainer()),renderAdaptive&&this.renderAdaptiveListContainer());return label?react.createElement(FloatingLabel.b,{label,editorValue:text,editorValid:isValid,editorDisabled:this.props.disabled,style:{width:style?style.width:void 0},children:dropdownlist}):dropdownlist},DropDownListWithoutContext.prototype.onNavigate=function(state,keyCode,skipItems){var _a=this.props,_b=_a.data,data=void 0===_b?[]:_b,defaultItem=_a.defaultItem,dataItemKey=_a.dataItemKey,_c=_a.virtual,virtual=void 0===_c?{skip:0,total:0,pageSize:0}:_c,vs=this.base.vs,value=this.value,index=data.findIndex((function(i){return(0,common_utils.tj)(i,value,dataItemKey)})),newIndex=this.base.navigation.navigate({current:virtual.skip+index,max:(vs.enabled?virtual.total:data.length)-1,min:void 0!==defaultItem?-1:0,keyCode,skipItems:skipItems||void 0});void 0!==newIndex&&this.handleItemSelect(newIndex,state),this.applyState(state)},DropDownListWithoutContext.prototype.renderAdaptiveListContainer=function(){var _a,_this=this,_b=this.state.windowWidth,windowWidth=void 0===_b?0:_b,_c=this.props,header=_c.header,footer=_c.footer,size=_c.size,adaptiveTitle=_c.adaptiveTitle,groupField=_c.groupField,groupStickyHeaderItemRender=_c.groupStickyHeaderItemRender,list=_c.list,_d=_c.data,data=void 0===_d?[]:_d,actionSheetProps={navigatable:!1,navigatableElements:[],expand:void 0!==this.props.opened?this.props.opened:this.state.opened,animation:!0,onClose:function(event){return _this.handleWrapperClick(event)},animationStyles:windowWidth<=constants.U?{top:0,width:"100%",height:"100%"}:void 0,className:windowWidth<=constants.U?"k-adaptive-actionsheet k-actionsheet-fullscreen":"k-adaptive-actionsheet k-actionsheet-bottom"},group=this.state.group;return void 0===group&&void 0!==groupField&&(group=(0,common_utils.Zi)(data[0],groupField)),react.createElement(react.Fragment,null,react.createElement(ActionSheet.E,__assign({},actionSheetProps),react.createElement(ActionSheetHeader.F,{className:"k-text-center"},react.createElement("div",{className:"k-actionsheet-titlebar-group k-hbox"},react.createElement("div",{className:"k-actionsheet-title"},react.createElement("div",null,adaptiveTitle)),react.createElement("div",{className:"k-actionsheet-actions"},react.createElement(Button.$,{tabIndex:0,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",onClick:this.handleWrapperClick,icon:"x",svgIcon:index_es.xIcon}))),react.createElement("div",{className:"k-actionsheet-titlebar-group k-actionsheet-filter"},this.renderListFilter())),react.createElement(ActionSheetContent.l,{className:"!k-overflow-hidden"},header&&react.createElement("div",{className:"k-list-header"},header),react.createElement("div",{className:(0,classNames.x)("k-list",(_a={},_a["k-list-".concat(sizeMap[size]||size)]=size,_a["k-virtual-list"]=this.base.vs.enabled,_a))},this.renderDefaultItem(),!list&&group&&0!==data.length&&react.createElement(GroupStickyHeader.A,{group,groupMode:"modern",render:groupStickyHeaderItemRender}),this.renderList()),footer&&react.createElement("div",{className:"k-list-footer"},footer))))},DropDownListWithoutContext.prototype.getFocusedIndex=function(){var value=this.value,_a=this.props,_b=_a.data,data=void 0===_b?[]:_b,textField=_a.textField,dataItemKey=_a.dataItemKey,_c=_a.virtual,virtual=void 0===_c?{skip:0}:_c,_d=_a.focusedItemIndex,focusedItemIndex=void 0===_d?common_utils.Np:_d,filterable=_a.filterable,_e=_a.skipDisabledItems,skipDisabledItems=void 0===_e||_e,text=this.props.filter?this.props.filter:this.state.text;return skipDisabledItems&&textField&&!text&&!value?data.findIndex((function(i){return!i.disabled&&i[textField]})):(0,common_utils.Wo)(value)&&void 0===text||filterable&&""===text?data.findIndex((function(i){return(0,common_utils.tj)(i,value,dataItemKey)})):text?this._lastKeypressIsFilter?focusedItemIndex(data,text,textField):data.findIndex((function(i){return(0,common_utils.tj)(i,value,dataItemKey)})):0===virtual.skip?0:-1},DropDownListWithoutContext.prototype.focusElement=function(element){var _this=this;this._skipFocusEvent=!0,element.focus(),window.setTimeout((function(){return _this._skipFocusEvent=!1}),30)},DropDownListWithoutContext.prototype.triggerOnChange=function(item,state){(0,common_utils.tj)(this.value,item,this.props.dataItemKey)||(void 0===this.props.value&&(state.data.value=item),this._valueDuringOnChange=item,state.events.push({type:"onChange"}))},DropDownListWithoutContext.prototype.applyState=function(state){this.base.applyState(state),this._valueDuringOnChange=void 0},DropDownListWithoutContext.prototype.calculateMedia=function(entries){for(var _i=0,entries_1=entries;_i<entries_1.length;_i++){var entry=entries_1[_i];this.setState({windowWidth:entry.target.clientWidth})}},DropDownListWithoutContext.prototype.resetValueIfDisabledItem=function(){var _a=this.props.data,data=void 0===_a?[]:_a,state=this.base.initState(),focusedIndex=this.getFocusedIndex();this.haveFocusedItemAndDataNotEmpty(data,focusedIndex)&&(this.triggerOnChange(null,state),this.applyState(state))},DropDownListWithoutContext.prototype.haveFocusedItemAndDataNotEmpty=function(data,focusedIndex){return void 0!==focusedIndex&&-1!==focusedIndex&&data&&data.length>0&&data[focusedIndex].disabled},DropDownListWithoutContext.displayName="DropDownList",DropDownListWithoutContext.propTypes=__assign({delay:prop_types.number,ignoreCase:prop_types.bool,iconClassName:prop_types.string,svgIcon:utils.jf,defaultItem:prop_types.any,valueRender:prop_types.func,valueMap:prop_types.func,validationMessage:prop_types.string,required:prop_types.bool,id:prop_types.string,ariaLabelledBy:prop_types.string,ariaDescribedBy:prop_types.string,ariaLabel:prop_types.string,leftRightKeysNavigation:prop_types.bool,title:prop_types.string,groupField:prop_types.string,list:prop_types.any,skipDisabledItems:prop_types.bool},DropDownBase.A.propTypes),DropDownListWithoutContext.defaultProps=__assign(__assign({delay:500,tabIndex:0,ignoreCase:!0},DropDownBase.A.defaultProps),{required:!1,size:"medium",rounded:"medium",fillMode:"solid",groupMode:"modern"}),DropDownListWithoutContext}(react.Component),DropDownListPropsContext=(0,withPropsContext.K)(),DropDownList=(0,withPropsContext.A)(DropDownListPropsContext,DropDownListWithoutContext);DropDownList.displayName="KendoReactDropDownList"}}]);