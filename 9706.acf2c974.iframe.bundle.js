"use strict";(self.webpackChunkkendoreact_storybook=self.webpackChunkkendoreact_storybook||[]).push([[9706],{"./node_modules/@progress/kendo-react-dateinputs/dist/es/virtualization/Virtualization.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>Virtualization});var extendStatics,_a,_b,_c,ScrollDirection,react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),classNames=__webpack_require__("./node_modules/@progress/kendo-react-common/dist/es/classNames.js"),__spreadArray=function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))},RowHeightService=function(){function RowHeightService(total,rowHeight,detailRowHeight){void 0===total&&(total=0),this.total=total,this.rowHeight=rowHeight,this.detailRowHeight=detailRowHeight,this.offsets=[],this.heights=[];for(var agg=0,idx=0;idx<total;idx++)this.offsets.push(agg),agg+=rowHeight,this.heights.push(rowHeight)}return RowHeightService.prototype.height=function(rowIndex){return this.heights[rowIndex]},RowHeightService.prototype.expandDetail=function(rowIndex){this.height(rowIndex)===this.rowHeight&&this.updateRowHeight(rowIndex,this.detailRowHeight)},RowHeightService.prototype.collapseDetail=function(rowIndex){this.height(rowIndex)>this.rowHeight&&this.updateRowHeight(rowIndex,-1*this.detailRowHeight)},RowHeightService.prototype.index=function(position){for(var i=0;i<this.offsets.length;i++){if(position===this.offsets[i])return i;if(position<this.offsets[i])return i-1}return this.total-1},RowHeightService.prototype.offset=function(rowIndex){return this.offsets[rowIndex]},RowHeightService.prototype.totalHeight=function(){return this.heights.reduce((function(prev,curr){return prev+curr}),0)},RowHeightService.prototype.updateRowHeight=function(rowIndex,value){this.heights[rowIndex]+=value,this.offsets=function(arr,idx,value){return __spreadArray(__spreadArray([],arr.slice(0,idx+1),!0),arr.slice(idx+1).map((function(x){return x+value})),!0)}(this.offsets,rowIndex,value)},RowHeightService}(),normalize=function(x){return Math.max(x,0)},ScrollAction=function ScrollAction(offset){this.offset=offset},PageAction=function PageAction(skip){this.skip=skip},ScrollerService=function(){function ScrollerService(onScrollAction,onPageAction){this.onScrollAction=onScrollAction,this.onPageAction=onPageAction,this.direction="vertical",this.firstLoaded=0,this.lastLoaded=0,this.lastScrollTop=0,this.take=0,this.total=0,this.rowHeightService=null,this.bottomOffset=0,this.topOffset=0}return ScrollerService.prototype.create=function(rowHeightService,skip,take,total,topOffset,bottomOffset,direction){void 0===topOffset&&(topOffset=0),void 0===bottomOffset&&(bottomOffset=0),void 0===direction&&(direction="vertical"),this.rowHeightService=rowHeightService,this.firstLoaded=skip,this.lastLoaded=skip+take,this.take=take,this.total=total,this.lastScrollTop=0,this.topOffset=topOffset,this.bottomOffset=bottomOffset,this.direction=direction;var offsetBufferRows=this.rowsForHeight(topOffset),skipWithOffset=normalize(skip-offsetBufferRows);this.onScrollAction(new ScrollAction(this.rowOffset(skipWithOffset))),this.onPageAction(new PageAction(skipWithOffset))},ScrollerService.prototype.onScroll=function(_a){var scrollLeft=_a.scrollLeft,scrollTop=_a.scrollTop,offsetHeight=_a.offsetHeight,offsetWidth=_a.offsetWidth,scrollPosition="vertical"===this.direction?scrollTop:scrollLeft,offsetSize="vertical"===this.direction?offsetHeight:offsetWidth;if(this.lastScrollTop!==scrollPosition&&this.rowHeightService){var up=this.lastScrollTop>=scrollPosition;this.lastScrollTop=scrollPosition;var firstItemIndex=this.rowHeightService.index(normalize(scrollPosition-this.topOffset)),lastItemIndex=this.rowHeightService.index(normalize(scrollPosition+offsetSize-this.bottomOffset));if(!up&&lastItemIndex>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=firstItemIndex,this.onScrollAction(new ScrollAction(this.rowOffset(firstItemIndex))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),this.onPageAction(new PageAction(this.firstLoaded))),up&&firstItemIndex<=this.firstLoaded){var nonVisibleBuffer=Math.floor(.3*this.take);this.firstLoaded=normalize(firstItemIndex-nonVisibleBuffer),this.onScrollAction(new ScrollAction(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),this.onPageAction(new PageAction(this.firstLoaded))}}},ScrollerService.prototype.rowOffset=function(index){return this.rowHeightService?this.rowHeightService.offset(index)+this.topOffset:0},ScrollerService.prototype.rowsForHeight=function(height){return this.rowHeightService?Math.ceil(height/this.rowHeightService.height(0)):0},ScrollerService}(),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});!function(ScrollDirection){ScrollDirection[ScrollDirection.Backward=0]="Backward",ScrollDirection[ScrollDirection.Forward=1]="Forward"}(ScrollDirection||(ScrollDirection={}));var scrollModifiers=((_a={})[ScrollDirection.Forward]=function(step){return function(value){return value+step}},_a[ScrollDirection.Backward]=function(step){return function(value){return value-step}},_a),scrollNormalizers=((_b={})[ScrollDirection.Forward]=function(end){return function(value){return Math.min(value,end)}},_b[ScrollDirection.Backward]=function(end){return function(value){return Math.max(value,end)}},_b),scrollValidators=((_c={})[ScrollDirection.Forward]=function(end){return function(start){return start<end}},_c[ScrollDirection.Backward]=function(end){return function(start){return start>end}},_c),Virtualization=function(_super){function Virtualization(props){var _this=_super.call(this,props)||this;return _this.rowHeightService=null,_this.scrollContainer=null,_this.lastDirection=null,_this.lastTotal=0,_this.lastTake=0,_this.animationInProgress=!1,_this.scrollTo=function(value){var scrollProperty="vertical"===_this.direction?"scrollTop":"scrollLeft";_this.scrollContainer&&(_this.scrollContainer[scrollProperty]=value)},_this.scrollToIndex=function(index){_this.animationInProgress=!1,_this.rowHeightService&&_this.scrollTo(_this.rowHeightService.offset(index))},_this.animateToIndex=function(index){if(_this.rowHeightService&&window){window.cancelAnimationFrame(_this.cancelAnimation);var indexOffset=_this.rowHeightService.offset(index),direction=_this.getContainerScrollDirection(indexOffset),_a=_this.scrollRange(indexOffset,direction),start=_a.start,end=_a.end;if(start!==end){var step=_this.scrollStep(start,end),modifyScroll=scrollModifiers[direction](step),normalizeScroll=scrollNormalizers[direction](end),isScrollValid=scrollValidators[direction](modifyScroll(end)),animate=function(progress){_this.animationInProgress=!0;var next=modifyScroll(progress);_this.scrollTo(normalizeScroll(next)),isScrollValid(next)?_this.cancelAnimation=window.requestAnimationFrame((function(){animate(next)})):_this.animationInProgress=!1};_this.cancelAnimation=window.requestAnimationFrame((function(){animate(start)}))}}},_this.scrollToBottom=function(){_this.rowHeightService&&_this.scrollTo(_this.rowHeightService.totalHeight()+_this.props.bottomOffset)},_this.scrollStep=function(start,end){var duration=_this.props.scrollDuration||Virtualization.defaultProps.scrollDuration;return Math.abs(end-start)/(duration/17)},_this.scrollRange=function(indexOffset,direction){var containerScroll=_this.containerScrollPosition;if(parseInt("".concat(indexOffset),10)===parseInt("".concat(containerScroll),10))return{start:indexOffset,end:indexOffset};var scrollTop,staticOffset,maxScrollDifference,maxScroll=_this.containerMaxScroll(),sign=direction===ScrollDirection.Backward?1:-1,difference=(scrollTop=containerScroll,staticOffset=indexOffset,maxScrollDifference=_this.props.maxScrollDifference||0,Math.min(Math.abs(staticOffset-scrollTop),maxScrollDifference)),end=Math.min(indexOffset,maxScroll);return{start:Math.min(Math.max(end+sign*difference,0),maxScroll),end}},_this.containerMaxScroll=function(){return _this.containerScrollSize-_this.containerOffsetSize},_this.getContainerScrollDirection=function(indexOffset){return indexOffset<_this.containerScrollPosition?ScrollDirection.Backward:ScrollDirection.Forward},_this.initServices=function(props){void 0===props&&(props=_this.props);var dimension="vertical"===_this.direction?props.itemHeight:props.itemWidth;void 0!==dimension&&(_this.rowHeightService=new RowHeightService(props.total,dimension,0),_this.scrollerService.create(_this.rowHeightService,props.skip,props.take,props.total,props.topOffset,_this.scrollOffsetSize,_this.direction))},_this.getContainerProperty=function(propertyName){return _this.scrollContainer?_this.scrollContainer[propertyName]:0},_this.handleScroll=function(event){if(_this.scrollContainer&&_this.rowHeightService){var target=event.target;_this.scrollerService.onScroll({scrollLeft:target.scrollLeft,scrollTop:target.scrollTop,offsetHeight:target.offsetHeight,offsetWidth:target.offsetWidth});var index=_this.rowHeightService.index(_this.containerScrollPosition-_this.props.topOffset),onScrollAction=_this.props.onScrollAction,args={index,target,scrollAction:_this.scrollAction,pageAction:_this.pageAction,animationInProgress:_this.animationInProgress};_this.props.onScroll&&_this.props.onScroll.call(void 0,event),onScrollAction&&onScrollAction.call(void 0,args),_this.scrollAction=void 0,_this.pageAction=void 0}},_this.handleScrollAction=function(action){_this.scrollAction=action},_this.handlePageAction=function(action){_this.pageAction=action},_this.scrollerService=new ScrollerService(_this.handleScrollAction,_this.handlePageAction),_this}return __extends(Virtualization,_super),Object.defineProperty(Virtualization.prototype,"element",{get:function(){return this.scrollContainer},enumerable:!1,configurable:!0}),Object.defineProperty(Virtualization.prototype,"containerOffsetSize",{get:function(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")},enumerable:!1,configurable:!0}),Object.defineProperty(Virtualization.prototype,"containerScrollSize",{get:function(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")},enumerable:!1,configurable:!0}),Object.defineProperty(Virtualization.prototype,"containerScrollPosition",{get:function(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")},enumerable:!1,configurable:!0}),Object.defineProperty(Virtualization.prototype,"direction",{get:function(){return void 0!==this.props.direction?this.props.direction:Virtualization.defaultProps.direction},enumerable:!1,configurable:!0}),Object.defineProperty(Virtualization.prototype,"scrollOffsetSize",{get:function(){return void 0!==this.props.scrollOffsetSize?this.props.scrollOffsetSize:Virtualization.defaultProps.scrollOffsetSize},enumerable:!1,configurable:!0}),Virtualization.prototype.activeIndex=function(){return this.itemIndex(Math.ceil(this.containerScrollPosition))},Virtualization.prototype.itemIndex=function(offset){return this.rowHeightService?this.rowHeightService.index(offset):0},Virtualization.prototype.itemOffset=function(index){return this.rowHeightService?this.rowHeightService.offset(index):0},Virtualization.prototype.isIndexVisible=function(index){if(!this.rowHeightService)return!1;var containerTop=this.containerScrollPosition,containerBottom=containerTop+this.containerOffsetSize,top=this.rowHeightService.offset(index),bottom=top+this.rowHeightService.height(index);return top>=containerTop&&bottom<=containerBottom},Virtualization.prototype.isListScrolled=function(index){return!!this.rowHeightService&&this.containerScrollPosition!==this.rowHeightService.offset(index)},Virtualization.prototype.componentDidMount=function(){var onMount=this.props.onMount;onMount&&onMount.call(void 0,this)},Virtualization.prototype.render=function(){var _this=this;this.lastTotal===this.props.total&&this.lastDirection===this.direction&&this.lastTake===this.props.take||(this.initServices(),this.lastTotal=this.props.total,this.lastDirection=this.direction,this.lastTake=this.props.take);var vertexLength="".concat((this.rowHeightService?this.rowHeightService.totalHeight():0)+this.props.bottomOffset),placeholderStyle="vertical"===this.direction?{height:"".concat(vertexLength,"px")}:{width:"".concat(vertexLength,"px")},rootClassNames=(0,classNames.x)("k-content k-scrollable",{"k-scrollable-horizontal":"horizontal"===this.direction},this.props.className),scrollableClassNames=(0,classNames.x)("k-scrollable-placeholder",{"k-scrollable-horizontal-placeholder":"horizontal"===this.direction});return react.createElement("div",{ref:function(el){_this.scrollContainer=el},onScroll:this.handleScroll,className:rootClassNames,tabIndex:this.props.tabIndex,role:this.props.role},this.props.children,react.createElement("div",{style:placeholderStyle,className:scrollableClassNames}))},Virtualization.propTypes={bottomOffset:prop_types.number.isRequired,className:prop_types.string,direction:prop_types.oneOf(["horizontal","vertical"]),forceScroll:prop_types.bool,itemHeight:prop_types.number,itemWidth:prop_types.number,maxScrollDifference:prop_types.number,onScroll:prop_types.func,onScrollAction:prop_types.func,scrollDuration:prop_types.number,scrollOffsetSize:prop_types.number,skip:prop_types.number.isRequired,tabIndex:prop_types.number,take:prop_types.number.isRequired,topOffset:prop_types.number.isRequired,total:prop_types.number.isRequired,role:prop_types.string},Virtualization.defaultProps={direction:"vertical",forceScroll:!1,scrollOffsetSize:0,maxScrollDifference:100,scrollDuration:100},Virtualization}(react.Component)}}]);